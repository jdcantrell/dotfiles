[user]
  name = JD Cantrell
  email = jd@goodrobot.net
[alias]
  co = checkout
  st = status -sb

  #log aliases
  lol = log --decorate --pretty=oneline --abbrev-commit
  lola = log --graph --decorate --pretty=oneline --abbrev-commit --all
  lol-merge = log --graph --decorate --pretty=oneline --abbrev-commit --all --simplify-merges --merges

  #daily util methods for creating new branches and pushing to remote
  i = !sh -c 'git checkout -b I$1-CSSP-$2 -t origin/IBEX$1' -
  cssp = !sh -c 'git checkout -b CSSP-$1 -t origin/master' -

  #checkout a branch that matches a string
  f = !sh -c 'git checkout "$(git branch | grep $1 -m 1)"' -

  done = !sh -c 'git push origin $(git symbolic-ref HEAD --short)' -

  #find any branch that has been merged into master and delete it
  delete-merged = !git branch --merged | grep -v '\\*' | xargs -n 1 git branch -d

  #find remote branches that have been merged and delete those (assume
  #you have a remote called `me`)
  delete-merged-remote = !git branch -r --merged | grep -v 'master$' | grep ' me' | sed -e 's/ me\\///' | xargs -n 1 git push me --delete

  #stash pr checkout use:
  #git pr origin 123
  pr = "!f() { git fetch $1 refs/pull-requests/$2/from:PR-$2; git checkout PR-$2; }; f"

  #authors
  authors = !git log --raw | grep "^Author: " | sort | uniq | cut -d ' ' -f2- | sed 's/^/- /'

  #setup forked push url and set email for trulia
  trulia = "!f() { source=$(git remote -v | grep 'origin' | grep 'fetch' | awk '{print $2}'); me=$(echo $source | sed -e 's/web/~jcantrell/'); git remote set-url --push origin $me; git remote add source $source; git remote add me $me; git config user.email 'jcantrell@trulia.com'; }; f" -

  fix-author = commit --amend --author 'JD Cantrell <jcantrell@trulia.com>'

  last-week = log --since="last week" --decorate --date=short --pretty="%ad (%ar) -- %s" --author="$(git config --get user.name)"

  branch-name = "!git rev-parse --abbrev-ref HEAD"

  #quality of life aliases
  new = checkout -b
  unstage = reset -q HEAD --
  discard = checkout --
  uncommit = reset --mixed HEAD~
  amend = commit --amend
  nevermind = !git reset --hard HEAD && git clean -d -f
  branches = branch -a
  remotes =  remote -v
  tags = tag
  stashes = stash list
  delete-commit = reset --hard HEAD~1
  undo-commit = reset --soft HEAD~1
  reset-me = "!git reset me/$(git branch-name) --hard"


[color]
  branch = auto
  diff = auto
  interactive = auto
  status = auto
[core]
  autocrlf = input
  excludesfile = "~/.gitignore"
[github]
  user = jdcantrell
[push]
  default = current
[diff]
  compactionHeuristic = true
  algorithm = patience
